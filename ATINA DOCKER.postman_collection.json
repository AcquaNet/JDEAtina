{
	"info": {
		"_postman_id": "a27fc1ec-d190-437a-bcb8-3ac13ce29bf5",
		"name": "ATINA DOCKER",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "S00 - SYSTEM - get-authorization",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "74dbcd95-0377-46d7-ac2e-922ec753ec8b",
						"exec": [
							"var jsonData = JSON.parse(responseBody);",
							"pm.environment.set(\"first-token\", jsonData.token);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "apikey",
					"apikey": [
						{
							"key": "value",
							"value": "{{valid-token}}",
							"type": "string"
						},
						{
							"key": "key",
							"value": "token",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{system-layer}}/api/jde-atina/get-authorization",
					"host": [
						"{{system-layer}}"
					],
					"path": [
						"api",
						"jde-atina",
						"get-authorization"
					]
				}
			},
			"response": []
		},
		{
			"name": "P03 - PROCESS - get-purchase-orders-for-approver",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "74dbcd95-0377-46d7-ac2e-922ec753ec8b",
						"exec": [
							"pm.test(\"Status code is 200\", function() {",
							"  pm.expect(pm.response.code).to.equal(200);",
							"});",
							"(pm.response.code===200 ? pm.test : pm.test.skip)(\"Response body is empty\", function () {",
							"    var jsonData = JSON.parse(responseBody);",
							"    pm.environment.set(\"first-token\", jsonData.token);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "apikey",
					"apikey": [
						{
							"key": "value",
							"value": "{{first-token}}",
							"type": "string"
						},
						{
							"key": "key",
							"value": "token",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"entityId\": 1\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{process-layer}}/api/jde-atina/get-purchase-orders-for-approver",
					"host": [
						"{{process-layer}}"
					],
					"path": [
						"api",
						"jde-atina",
						"get-purchase-orders-for-approver"
					]
				}
			},
			"response": []
		},
		{
			"name": "S04 - SYSTEM - Execute WS JP430000.ProcurementManager.getPurchaseOrdersForApprover",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b9430ad5-0479-43b7-a0de-e749563e5aa9",
						"exec": [
							"var jsonData = postman.getResponseHeader(\"token\");",
							"pm.environment.set(\"first-token\",jsonData );",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "apikey",
					"apikey": [
						{
							"key": "value",
							"value": "eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxMjMxMjMxIiwiaWF0IjoxNTc5MDE2NjUxLCJzdWIiOiJTdWJqZWN0IiwiaXNzIjoiSXNzdWUiLCJ1c2VyIjoiSkRFIiwicGFzc3dvcmQiOiJNb2R1czIwMTchIiwiZW52aXJvbm1lbnQiOiJKRFY5MjAiLCJyb2xlIjoiKkFMTCIsInNlc3Npb25JZCI6MTI4NDM5NjEzMywiZXhwIjoxNTc5MDE5NjUxfQ.rw9lUZgN9cDmjRki-T6okZqxABWdVXD5wA9T8YtrWJQ",
							"type": "string"
						},
						{
							"key": "key",
							"value": "token",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"approver\": {\r\n        \"entityTaxId\": \"\",\r\n        \"entityLongId\": \"\",\r\n        \"entityId\": 92455890\r\n    },\r\n    \"orderTypeCode\": \"OP\",\r\n    \"businessUnitCode\": \"         30\",\r\n    \"statusCodeNext\": \"230\",\r\n    \"statusApproval\": \"2N\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{system-layer}}/api/jde-atina/post-operation/oracle.e1.bssv.JP430000.ProcurementManager.getPurchaseOrdersForApprover",
					"host": [
						"{{system-layer}}"
					],
					"path": [
						"api",
						"jde-atina",
						"post-operation",
						"oracle.e1.bssv.JP430000.ProcurementManager.getPurchaseOrdersForApprover"
					]
				}
			},
			"response": []
		},
		{
			"name": "S03 -  SYSTEM - Execute WS JP430000.ProcurementManager.processPurchaseOrderApproveReject",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b9430ad5-0479-43b7-a0de-e749563e5aa9",
						"exec": [
							"var jsonData = postman.getResponseHeader(\"token\");",
							"pm.environment.set(\"first-token\",jsonData );",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "apikey",
					"apikey": [
						{
							"key": "value",
							"value": "{{first-token}}",
							"type": "string"
						},
						{
							"key": "key",
							"value": "token",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"p43081Version\": \"ZJDE0002\",\r\n  \"businessUnit\": \"          30\",\r\n  \"companyKeyOrderNumber\": \"00001\",\r\n  \"documentType\": \"OP\",\r\n  \"documentNumber\": 5054,\r\n  \"orderSuffix\": \"001\",\r\n  \"remark\": \"REM1\",\r\n  \"statusApproval\": \"2A\",\r\n  \"budgetPassword\": \"\",\r\n  \"amountToApprove\": \"10606.94\",\r\n  \"holdCode\": \"\",\r\n  \"approveReject\": \"A\",\r\n  \"approverAddressNumber\": 1,\r\n  \"lineNumber\": \"1\",\r\n  \"approvalRouteCode\": \"DEMO\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{system-layer}}/api/jde-atina/post-operation/oracle.e1.bssv.JP430000.ProcurementManager.processPurchaseOrderApproveReject",
					"host": [
						"{{system-layer}}"
					],
					"path": [
						"api",
						"jde-atina",
						"post-operation",
						"oracle.e1.bssv.JP430000.ProcurementManager.processPurchaseOrderApproveReject"
					]
				}
			},
			"response": []
		},
		{
			"name": "S02 - SYSTEM - Execute WS JP430000.ProcurementManager.processPurchaseOrderApproveReject",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b9430ad5-0479-43b7-a0de-e749563e5aa9",
						"exec": [
							"pm.test(\"Status code is 200\", function() {",
							"  pm.expect(pm.response.code).to.equal(200);",
							"});",
							"(pm.response.code===200 ? pm.test : pm.test.skip)(\"Response body is empty\", function () {",
							"    var jsonData = JSON.parse(responseBody);",
							"    pm.environment.set(\"first-token\", jsonData.token);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "apikey",
					"apikey": [
						{
							"key": "value",
							"value": "{{first-token}}",
							"type": "string"
						},
						{
							"key": "key",
							"value": "token",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"p43081Version\": \"ZJDE0002\",\r\n  \"businessUnit\": \"          30\",\r\n  \"companyKeyOrderNumber\": \"00001\",\r\n  \"documentType\": \"OP\",\r\n  \"documentNumber\": 5051,\r\n  \"orderSuffix\": \"000\",\r\n  \"remark\": \"REM1\",\r\n  \"statusApproval\": \"2N\",\r\n  \"budgetPassword\": \"\",\r\n  \"amountToApprove\": \"26517.34\",\r\n  \"holdCode\": \"\",\r\n  \"approveReject\": \"A\",\r\n  \"approverAddressNumber\": 1,\r\n  \"approvalRouteCode\": \"DEMO\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{system-layer}}/api/jde-atina/post-operation/oracle.e1.bssv.JP430000.ProcurementManager.processPurchaseOrderApproveReject",
					"host": [
						"{{system-layer}}"
					],
					"path": [
						"api",
						"jde-atina",
						"post-operation",
						"oracle.e1.bssv.JP430000.ProcurementManager.processPurchaseOrderApproveReject"
					]
				}
			},
			"response": []
		},
		{
			"name": "S01 - DOCKER - SYSTEM - get-json-schema",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "63f3e1de-7a5f-4349-bc4b-96b67b20a13d",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "apikey",
					"apikey": [
						{
							"key": "value",
							"value": "{{first-token}}",
							"type": "string"
						},
						{
							"key": "key",
							"value": "token",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{system-layer-docker}}/api/jde-atina/get-json-schema/oracle.e1.bssv.JP430000.ProcurementManager.processPurchaseOrderApproveReject",
					"host": [
						"{{system-layer-docker}}"
					],
					"path": [
						"api",
						"jde-atina",
						"get-json-schema",
						"oracle.e1.bssv.JP430000.ProcurementManager.processPurchaseOrderApproveReject"
					]
				}
			},
			"response": []
		},
		{
			"name": "P02 - PROCESS get-authorization",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "74dbcd95-0377-46d7-ac2e-922ec753ec8b",
						"exec": [
							"pm.test(\"Status code is 200\", function() {",
							"  pm.expect(pm.response.code).to.equal(200);",
							"});",
							"(pm.response.code===200 ? pm.test : pm.test.skip)(\"Response body is empty\", function () {",
							"    var jsonData = JSON.parse(responseBody);",
							"    pm.environment.set(\"first-token\", jsonData.token);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "apikey",
					"apikey": [
						{
							"key": "value",
							"value": "{{valid-token}}",
							"type": "string"
						},
						{
							"key": "key",
							"value": "token",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{process-layer}}/api/jde-atina/get-authorization",
					"host": [
						"{{process-layer}}"
					],
					"path": [
						"api",
						"jde-atina",
						"get-authorization"
					]
				}
			},
			"response": []
		},
		{
			"name": "NGROK - JDE-MICROSERVER Get domain",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "8957fd23-f568-41c0-9f24-f8fa5c3e7813",
						"exec": [
							"pm.test(\"Status code is 200\", function() {",
							"  pm.expect(pm.response.code).to.equal(200);",
							"});",
							"(pm.response.code===200 ? pm.test : pm.test.skip)(\"Response body is empty\", function () {",
							"    var jsonData = JSON.parse(responseBody);",
							"    pm.collectionVariables.set(\"ngrok-jdemicroserver-id\", jsonData.public_url);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{ngrok-jde-microserver}}/api/tunnels/command_line (http)",
					"host": [
						"{{ngrok-jde-microserver}}"
					],
					"path": [
						"api",
						"tunnels",
						"command_line (http)"
					]
				}
			},
			"response": []
		},
		{
			"name": "NGROK - MULE SERVER Get domain",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "8957fd23-f568-41c0-9f24-f8fa5c3e7813",
						"exec": [
							"pm.test(\"Status code is 200\", function() {",
							"  pm.environment.set(\"process-layer\", \"http://localhost:8084\");",
							"  pm.expect(pm.response.code).to.equal(200);",
							"});",
							"(pm.response.code===200 ? pm.test : pm.test.skip)(\"Response body is empty\", function () {",
							"    var jsonData = JSON.parse(responseBody);",
							"    pm.environment.set(\"process-layer\", jsonData.public_url);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "noauth"
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{ngrok-mule-server}}/api/tunnels/command_line (http)",
					"host": [
						"{{ngrok-mule-server}}"
					],
					"path": [
						"api",
						"tunnels",
						"command_line (http)"
					]
				}
			},
			"response": []
		},
		{
			"name": "P05 - PROCESS - purchase-orders-approve-reject",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "74dbcd95-0377-46d7-ac2e-922ec753ec8b",
						"exec": [
							"pm.test(\"Status code is 200\", function() {",
							"  pm.expect(pm.response.code).to.equal(200);",
							"});",
							"(pm.response.code===200 ? pm.test : pm.test.skip)(\"Response body is empty\", function () {",
							"    var jsonData = JSON.parse(responseBody);",
							"    pm.environment.set(\"first-token\", jsonData.token);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "apikey",
					"apikey": [
						{
							"key": "value",
							"value": "{{first-token}}",
							"type": "string"
						},
						{
							"key": "key",
							"value": "token",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{ \r\n    \"businessUnit\": \"          30\",\r\n    \"companyKeyOrderNumber\": \"00001\",\r\n    \"documentType\": \"OP\",\r\n    \"documentNumber\": \"5073\",\r\n    \"orderSuffix\": \"000\",\r\n    \"remark\": \"REJECT REMARK 1\",\r\n    \"statusApproval\": \"2A\",\r\n    \"budgetPassword\": \"\",\r\n    \"amountToApprove\": \"10606.94\",\r\n    \"approveReject\": \"A\",\r\n    \"approverAddressNumber\": \"1\",\r\n    \"lineNumber\": \"1.0\",\r\n    \"approvalRouteCode\": \"DEMO\"\r\n}\r\n\r\n ",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{process-layer}}/api/jde-atina/process-purchase-order-approve-reject",
					"host": [
						"{{process-layer}}"
					],
					"path": [
						"api",
						"jde-atina",
						"process-purchase-order-approve-reject"
					]
				}
			},
			"response": []
		},
		{
			"name": "P04 - PROCESS - get-purchase-order-detail-for-approver",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "74dbcd95-0377-46d7-ac2e-922ec753ec8b",
						"exec": [
							"pm.test(\"Status code is 200\", function() {",
							"  pm.expect(pm.response.code).to.equal(200);",
							"});",
							"(pm.response.code===200 ? pm.test : pm.test.skip)(\"Response body is empty\", function () {",
							"    var jsonData = JSON.parse(responseBody);",
							"    pm.environment.set(\"first-token\", jsonData.token);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "apikey",
					"apikey": [
						{
							"key": "value",
							"value": "{{first-token}}",
							"type": "string"
						},
						{
							"key": "key",
							"value": "token",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"companyKeyOrderNo\": \"00001\",\r\n    \"documentOrderTypeCode\": \"OP\",\r\n    \"statusCodeNext\": \"230\",\r\n    \"documentOrderInvoiceNumber\": 5063,\r\n    \"documentSuffix\": \"000\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{process-layer}}/api/jde-atina/get-purchase-order-detail-for-approver",
					"host": [
						"{{process-layer}}"
					],
					"path": [
						"api",
						"jde-atina",
						"get-purchase-order-detail-for-approver"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "4b20e110-fd92-493f-8a9f-8bbc6af88541",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "714cf980-85e0-4816-b49e-2ea5fd7230ec",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "99a690f0-2dbb-4c8f-b16d-ccbc87ec9853",
			"key": "docker-machine-ip",
			"value": "192.168.99.100",
			"type": "string"
		},
		{
			"id": "da26a740-b32f-4430-a810-a4ca2b776227",
			"key": "ngrok-mule-server-id",
			"value": "http://df9d346a.ngrok.io",
			"type": "string"
		},
		{
			"id": "b4a01933-7f69-4724-8ff6-006bcb5e2b95",
			"key": "first-token",
			"value": null,
			"type": "any"
		},
		{
			"id": "4ff0242c-71c9-4f7e-a47d-d032c091b819",
			"key": "valid-token",
			"value": "eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxMjMxMjMxIiwiaWF0IjoxNTcyNDQ3Nzc0LCJzdWIiOiJTdWJqZWN0IiwiaXNzIjoiSXNzdWUiLCJ1c2VyIjoiSkRFIiwicGFzc3dvcmQiOiJNb2R1czIwMTchIiwiZW52aXJvbm1lbnQiOiJKRFY5MjAiLCJyb2xlIjoiKkFMTCIsInNlc3Npb25JZCI6MH0.u9olIwWVsyCQnEPz2q0ngr1Kny24RqcRCU23xHFvr3o",
			"type": "string"
		},
		{
			"id": "43f6ebf8-d733-4baa-b5be-34e2f9213f35",
			"key": "ngrok-id-process",
			"value": "http://192.168.99.100:8084",
			"type": "string"
		},
		{
			"id": "f5dbfe0c-962c-4cf2-b593-d22ce6ccc7a2",
			"key": "local-process-layer",
			"value": "http://localhost:8084",
			"type": "string"
		},
		{
			"id": "caeedf34-9e07-4a2d-8296-153cd60e2255",
			"key": "ngrok-mule-server",
			"value": "http://192.168.99.100:4041",
			"type": "string"
		},
		{
			"id": "22493583-3177-4bd6-a7aa-aa29aa54a65e",
			"key": "ngrok-jde-microserver",
			"value": "http://192.168.99.100:4040",
			"type": "string"
		},
		{
			"id": "0e281567-71c0-460b-913c-27f5bdfaa5e8",
			"key": "ngrok-jdemicroserver-id",
			"value": "http://52f0160f.ngrok.io",
			"type": "string"
		},
		{
			"id": "525c1285-d321-4729-bd12-de9a510ee9e9",
			"key": "docker-system-layer",
			"value": "http://192.168.99.100:8088",
			"type": "string"
		},
		{
			"id": "26663ad9-eb7d-4198-89c7-8be0f33c519f",
			"key": "local-system-layer",
			"value": "http://localhost:8081",
			"type": "string"
		},
		{
			"id": "24537cec-28ef-4b20-9339-49415c5d1fb1",
			"key": "process-layer",
			"value": "http://df9d346a.ngrok.io",
			"type": "string"
		}
	],
	"protocolProfileBehavior": {}
}